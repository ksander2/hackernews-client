(this["webpackJsonphackernews-client"]=this["webpackJsonphackernews-client"]||[]).push([[0],{120:function(n,e,t){"use strict";t.r(e);var r=t(1),c=t(0),o=t.n(c),i=t(29),a=t.n(i),u=t(17),s=t(7),d=t(121),b=t(41),l=t(32),f=t(18),j=t(4),O=t(5),p="#151515",h="#BFBFBF",v="#393c3e";function m(){var n=Object(j.a)(["\n  position: sticky;\n  top: 0;\n  left: 0;\n  width: 100%;\n  z-index: 10;\n  flex-shrink: 0;\n"]);return m=function(){return n},n}function x(){var n=Object(j.a)(["\n  @font-face {\n    font-family: 'Nunito-sans';\n    font-weight: 200;\n    font-style: normal;\n    font-stretch: normal;\n  }\n\n  body {\n    margin: 0;\n\n    background-color: ",";\n\n    color: ",";\n    font-family: 'Nunito-sans', sans-serif;\n    font-weight: 400;\n  }\n\n  p {\n    margin: 0;\n  }\n\n  *,\n  *:before,\n  *:after {\n    box-sizing: border-box;\n  }\n\n  table,\n  caption,\n  tbody,\n  tfoot,\n  thead,\n  tr,\n  th,\n  td {\n    margin: 0;\n    padding: 0;\n    border: 0;\n    font-size: 100%;\n    font-family: inherit;\n    vertical-align: baseline;\n  }\n\n  table {\n    border-collapse: separate;\n    border-spacing: 0;\n  }\n\n  textarea {\n    font-family: inherit;\n  }\n\n  button {\n    font-family: inherit;\n  }\n"]);return x=function(){return n},n}var g=Object(O.a)(x(),p,h),y=(Object(O.b)("div")(m()),t(122));function w(){var n=Object(j.a)(["\n  display: block;\n  color: ",";\n  text-align: center;\n  padding: 14px 16px;\n  text-decoration: none;\n  font-size: 17px;\n\n  &:hover {\n    background-color: ",";\n    color: black;\n  }\n\n  &.active {\n    color: ",";\n    background-color: ",";\n  }\n"]);return w=function(){return n},n}function k(){var n=Object(j.a)(["\n  display: flex;\n  justify-content: flex-start;\n\n  background-color: ",";\n  overflow: hidden;\n  margin-bottom: 50px;\n"]);return k=function(){return n},n}var S=O.b.div(k(),v),N=Object(O.b)(u.c)(w(),h,h,"#FFFFFF","#4CAF50"),F=function(n){var e=n.menuItems,t=Object(y.a)("navMenu").t;return Object(r.jsx)(S,{children:e.map((function(n){return Object(r.jsx)(N,{activeClassName:"active",id:"id-item-".concat(n),to:"/".concat(n),children:t(n)},"menu-item-".concat(n))}))})},E=function(){return Object(r.jsx)(s.a,{to:"/top"})},z=function(n){var e=n.location,t=Object(y.a)("pageNotFound").t;return Object(r.jsxs)("span",{children:[t("pageNotFound")," ",e.pathname]})};function B(){var n=Object(j.a)(["\n  width: 80%;\n  margin: auto;\n"]);return B=function(){return n},n}var U=Object(O.b)("div")(B()),q=t(20),M=t.n(q),A=t(25),C=t(2),D=Object(C.Union)(Object(C.Literal)("job"),Object(C.Literal)("story"),Object(C.Literal)("comment"),Object(C.Literal)("poll"),Object(C.Literal)("pollopt")),L=Object(C.Array)(C.Number),V=Object(C.Record)({id:C.Number,by:C.String,type:D,deleted:C.Boolean.Or(C.Undefined),time:C.Number,text:C.String.Or(C.Undefined),dead:C.Boolean.Or(C.Undefined),parent:C.Number.Or(C.Undefined),kids:Object(C.Array)(C.Number).Or(C.Undefined),url:C.String.Or(C.Undefined),score:C.Number.Or(C.Undefined),title:C.String.Or(C.Undefined),descendants:C.Number.Or(C.Undefined)});function I(n){return n.map((function(n){return n}))}function J(n){var e=n.id,t=n.by,r=n.dead,c=n.deleted,o=n.kids,i=n.parent,a=n.score,u=n.text,s=n.time,d=n.title;return{id:e,by:t,dead:r,deleted:c,kids:o,parent:i,score:a,text:u,time:s,title:null!==d&&void 0!==d?d:"",type:n.type,url:n.url,descendants:n.descendants}}var P="https://hacker-news.firebaseio.com/v0/",T="item/",R=".json?print=pretty";function H(n){if(!n.ok)throw Error("HTTP error ".concat(n.status," ").concat(n.statusText," url: ").concat(n.url));return n}function G(n){return K.apply(this,arguments)}function K(){return(K=Object(A.a)(M.a.mark((function n(e){var t,r;return M.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(P).concat(e).concat(R)).then(H).then((function(n){return n.json()}));case 2:return t=n.sent,r=L.check(t),n.abrupt("return",I(r));case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function Q(n){return W.apply(this,arguments)}function W(){return(W=Object(A.a)(M.a.mark((function n(e){var t,r,c;return M.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=P+T+e+R,n.next=3,fetch(t).then(H).then((function(n){return n.json()}));case 3:return r=n.sent,c=V.check(r),n.abrupt("return",J(c));case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function X(n){return Promise.all(n.map((function(n){return Q(n)})))}var Y=Object(f.b)({selectId:function(n){return n.id},sortComparer:function(n,e){return n.id-e.id}}),Z=function(){return Y.getInitialState({loadStage:"none"})},$=Object(f.c)({name:"stories",initialState:Z(),reducers:{fetchStoriesRequest:function(n){n.loadStage="requested"},fetchStoriesSucceed:function(n,e){var t=e.payload;n.loadStage="succeeded",Y.setAll(n,t)},fetchNextPageStoriesSucceed:function(n,e){var t=e.payload;n.loadStage="succeeded",Y.addMany(n,t)},fetchStoriesFailed:function(n){n.loadStage="failed"},resetStories:function(){return Z()}}}),_=$.actions,nn=_.fetchStoriesRequest,en=_.fetchStoriesSucceed,tn=_.fetchStoriesFailed,rn=_.fetchNextPageStoriesSucceed,cn=$.actions.resetStories,on=Y.getSelectors(),an=on.selectAll,un=on.selectTotal,sn=$.reducer,dn=t(9),bn=t(33),ln=function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(bn.Dot,{children:"."}),Object(r.jsx)(bn.Dot,{children:"."}),Object(r.jsx)(bn.Dot,{children:"."})]})};function fn(){var n=Object(j.a)(["\n  font-size: 12px;\n  color: ",";\n  text-decoration: underline;\n"]);return fn=function(){return n},n}function jn(){var n=Object(j.a)(["\n  font-size: 12px;\n"]);return jn=function(){return n},n}function On(){var n=Object(j.a)(["\n  font-size: 20px;\n  text-decoration: none;\n  color: ",";\n"]);return On=function(){return n},n}function pn(){var n=Object(j.a)(["\n  padding: 10px;\n  border-bottom: 1px solid ",";\n  word-wrap: break-word;\n"]);return pn=function(){return n},n}var hn=O.b.div(pn(),p),vn=O.b.a(On(),h),mn=O.b.span(jn()),xn=Object(O.b)(u.b)(fn(),h);function gn(n){return new Date(Date.now()-1e3*n).getHours()}var yn=Object(c.memo)((function(n){var e=n.story,t=Object(c.useMemo)((function(){return gn(e.time)}),[e.time]),o=Object(y.a)("views").t,i=Object(c.useMemo)((function(){return null!=e.kids?"".concat(null===e||void 0===e?void 0:e.kids.length," comments"):"discuss"}),[e]),a="/story/".concat(e.id,"/comments");return Object(r.jsxs)(hn,{children:[Object(r.jsx)(vn,{href:e.url,children:e.title}),Object(r.jsxs)("div",{children:[Object(r.jsx)(mn,{children:"".concat(e.score," ").concat(o("storiesView.pointsBy")," ").concat(e.by," | ").concat(t," ").concat(o("hoursAgo")," ")}),Object(r.jsx)(xn,{to:a,children:i})]})]})}));function wn(){var n=Object(j.a)(["\n  position: relative;\n  top: -20px;\n  text-align: Center;\n  font-size: 50px;\n"]);return wn=function(){return n},n}function kn(){var n=Object(j.a)(["\n  background-color: ",";\n  background-repeat: no-repeat;\n  border: none;\n  cursor: pointer;\n  overflow: hidden;\n  height: 50px;\n  width: 100%;\n  color: ",";\n  font-size: 17px;\n  outline: none;\n"]);return kn=function(){return n},n}function Sn(){var n=Object(j.a)(["\n  border-radius: 5px;\n  background-color: ",";\n  color: ",";\n  margin-bottom: 1px;\n"]);return Sn=function(){return n},n}var Nn=O.b.div(Sn(),v,h),Fn=O.b.button(kn(),"transparent",h),En=Object(O.b)("div")(wn());function zn(){var n=Object(j.a)(["\n  height: 90px;\n  text-align: Center;\n  font-size: 50px;\n"]);return zn=function(){return n},n}var Bn=Object(O.b)("div")(zn());function Un(n){switch(n){case"top":return G("topstories");case"ask":return G("askstories");case"job":return G("jobstories");case"show":return G("showstories");default:throw Error("unsupported category: ".concat(n))}}var qn=t(15);var Mn=Object(qn.a)((function(n){return n.stories}),(function(n){return n})),An=Object(qn.a)(Mn,(function(n){return function(n){return"requested"===n.loadStage}(n)})),Cn=Object(qn.a)(Mn,(function(n){return an(n)})),Dn=Object(qn.a)(Mn,(function(n){return 0!==un(n)})),Ln={fetchStories:function(n,e){return function(){var t=Object(A.a)(M.a.mark((function t(r){var c;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(nn()),t.prev=1,t.next=4,X(n);case 4:c=t.sent,r(e?en(c):rn(c)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0),r(tn());case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(n){return t.apply(this,arguments)}}()},resetStories:cn},Vn=Object(l.b)((function(n){return{isLoading:An(n),stories:Cn(n),hasData:Dn(n)}}),Ln)((function(n){var e=n.fetchStories,t=n.isLoading,o=n.stories,i=n.hasData,a=n.resetStories,u=Object(y.a)("views").t,d=Object(c.useState)(1),b=Object(dn.a)(d,2),l=b[0],f=b[1],j=Object(s.g)().pathname,O=Object(c.useMemo)((function(){return function(n){switch(n.substr(1,n.length-1)){case"top":return"top";case"ask":return"ask";case"job":return"job";case"show":return"show";default:throw new Error("incorrect path")}}(j)}),[j]),p=function(n){var e=Object(c.useState)(null),t=Object(dn.a)(e,2),r=t[0],o=t[1],i=Object(c.useState)("none"),a=Object(dn.a)(i,2),u=a[0],s=a[1];return Object(c.useEffect)((function(){s("requested"),Un(n).then((function(n){o(n.sort((function(n,e){return n-e}))),s("succeeded")})).catch((function(n){console.log(n),s("failed")}))}),[n,s,o]),[r,u]}(O),h=Object(dn.a)(p,2),v=h[0],m=h[1];Object(c.useEffect)((function(){a(),f(1)}),[O,f]),Object(c.useEffect)((function(){v&&e(v.slice(0,10),!0)}),[v]);var x=Object(c.useCallback)((function(){if(v){var n=v.splice(10*l,10);e(n,!1),f((function(n){return n+1}))}}),[f,v,l,e]);return Object(r.jsx)(Nn,{children:"requested"!==m&&i?Object(r.jsxs)(r.Fragment,{children:[o.map((function(n){return Object(r.jsx)(yn,{story:n},"st-".concat(n.id))})),Object(r.jsx)(Fn,{onClick:x,children:t&&i?Object(r.jsx)(En,{children:Object(r.jsx)(ln,{})}):u("storiesView.loadMoreBtn")})]}):Object(r.jsx)(Bn,{children:Object(r.jsx)(ln,{})})})}));function In(){var n=Object(j.a)(["\n  font-size: 25px;\n  font-weight: bold;\n"]);return In=function(){return n},n}function Jn(){var n=Object(j.a)(["\n  border-radius: 5px;\n  background-color: ",";\n  color: ",";\n  padding: 10px;\n  margin-bottom: 20px;\n"]);return Jn=function(){return n},n}function Pn(){var n=Object(j.a)(["\n  border-radius: 5px;\n  background-color: ",";\n  color: ",";\n  margin-bottom: 1px;\n"]);return Pn=function(){return n},n}var Tn=O.b.div(Pn(),v,h),Rn=O.b.div(Jn(),v,h),Hn=O.b.div(In()),Gn=t(58),Kn=t.n(Gn);function Qn(){var n=Object(j.a)(["\n  font-size: 12px;\n"]);return Qn=function(){return n},n}function Wn(){var n=Object(j.a)(["\n  padding: 10px;\n  border-bottom: 1px solid ",";\n  word-wrap: break-word;\n"]);return Wn=function(){return n},n}var Xn=O.b.div(Wn(),p),Yn=O.b.div(Qn()),Zn=Object(c.memo)((function(n){var e,t=n.data,o=Object(y.a)("views").t,i=Object(c.useMemo)((function(){return gn(t.time)}),[t.time]);return Object(r.jsxs)(Xn,{children:[Object(r.jsx)(Yn,{children:" ".concat(o("commentsView.by")," ").concat(t.by," | ").concat(i," ").concat(o("hoursAgo"))}),Object(r.jsx)("div",{children:Kn()(null!==(e=null===t||void 0===t?void 0:t.text)&&void 0!==e?e:"")})]})}));var $n=function(){var n=Object(y.a)("views").t,e=function(n){var e=Object(c.useState)(null),t=Object(dn.a)(e,2),r=t[0],o=t[1],i=Object(c.useState)("none"),a=Object(dn.a)(i,2),u=a[0],s=a[1];return Object(c.useEffect)((function(){s("requested"),Q(Number(n)).then((function(n){o(n),s("succeeded")})).catch((function(n){console.log(n),s("failed")}))}),[n,s,o]),[r,u]}(Object(s.h)().storyId),t=Object(dn.a)(e,2),o=t[0],i=t[1],a=function(n){var e=Object(c.useState)(null),t=Object(dn.a)(e,2),r=t[0],o=t[1],i=Object(c.useState)("none"),a=Object(dn.a)(i,2),u=a[0],s=a[1];return Object(c.useEffect)((function(){void 0!==n&&(s("requested"),Promise.all(n.map((function(n){return Q(n)}))).then((function(n){o(n),s("succeeded")})).catch((function(n){console.log(n),s("failed")})))}),[n,o,s]),[r,u]}(null===o||void 0===o?void 0:o.kids),u=Object(dn.a)(a,2),d=u[0];return function(n,e){return"requested"===n||"requested"===e}(i,u[1])?Object(r.jsx)(Bn,{children:Object(r.jsx)(ln,{})}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(Rn,{children:[Object(r.jsx)(Hn,{children:null===o||void 0===o?void 0:o.title}),Object(r.jsxs)("span",{children:[null===o||void 0===o?void 0:o.score," ",n("commentsView.pointsBy")," ",null===o||void 0===o?void 0:o.by," |"," ",n("commentsView.comments"),": ",null===o||void 0===o?void 0:o.descendants]})]}),Object(r.jsx)(Tn,{children:null===d||void 0===d?void 0:d.map((function(n){return Object(r.jsx)(Zn,{data:n},"key-comment-".concat(n.id))}))})]})},_n=t(59),ne=t(60),ee=t(65),te=t(64),re=function(n){Object(ee.a)(t,n);var e=Object(te.a)(t);function t(n){var r;return Object(_n.a)(this,t),(r=e.call(this,n)).state={hasError:!1},r}return Object(ne.a)(t,[{key:"componentDidCatch",value:function(n,e){console.error("Uncaught error:",n,e)}},{key:"render",value:function(){var n=this.state.hasError,e=this.props.children;return n?Object(r.jsx)("h1",{children:"Sorry.. there was an error"}):e}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),t}(c.Component),ce=t(14),oe=Object(ce.c)({stories:sn}),ie={en:{navMenu:t(61),pageNotFound:t(62),views:t(63)}},ae=(Object.keys(ie),{interpolation:{escapeValue:!1},lng:"en",fallbackLng:"en",cache:{enabled:!0},resources:ie});b.a.init(ae);var ue=Object(f.a)({reducer:oe,middleware:Object(f.d)()}),se=["top","ask","job","show"],de=function(){return Object(r.jsx)(l.a,{store:ue,children:Object(r.jsx)(d.a,{i18n:b.a,children:Object(r.jsxs)(u.a,{basename:"/",children:[Object(r.jsx)(g,{}),Object(r.jsx)(re,{children:Object(r.jsxs)(U,{children:[Object(r.jsx)(F,{menuItems:se}),Object(r.jsxs)(s.d,{children:[Object(r.jsx)(s.b,{exact:!0,path:"/",component:E}),Object(r.jsx)(s.b,{path:se.map((function(n){return"/".concat(n)})),component:function(){return Object(r.jsx)(Vn,{})}}),Object(r.jsx)(s.b,{path:"/story/:storyId/comments",component:$n}),Object(r.jsx)(s.b,{path:"*",component:z})]})]})})]})})})};a.a.render(Object(r.jsx)(o.a.StrictMode,{children:Object(r.jsx)(de,{})}),document.getElementById("root"))},61:function(n){n.exports=JSON.parse('{"top":"Top","ask":"Ask","job":"Job","show":"Show"}')},62:function(n){n.exports=JSON.parse('{"pageNotFound":"Nothing was found for"}')},63:function(n){n.exports=JSON.parse('{"storiesView":{"loadMoreBtn":"Load more","pointsBy":"points by"},"commentsView":{"by":"by","pointsBy":"points by","comments":"comments"},"hoursAgo":"hours ago"}')}},[[120,1,2]]]);
//# sourceMappingURL=main.57a08716.chunk.js.map